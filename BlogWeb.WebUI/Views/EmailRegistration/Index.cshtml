@model IEnumerable<EmailRegistration>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_LayoutDash.cshtml";
}

<div class="emailRegistration datalist">
    <div class="wayLine">
        <a asp-controller="General" asp-action="Index" style="text-decoration: none;">
            <svg width="16" height="16" style="fill:#C64444;" viewBox="0 0 480 480" xmlns="http://www.w3.org/2000/svg"><path d="m240 0c-132.546875 0-240 107.453125-240 240s107.453125 240 240 240 240-107.453125 240-240c-.148438-132.484375-107.515625-239.851562-240-240zm207.566406 324.078125-68.253906 11.777344c7.8125-28.652344 12.03125-58.164063 12.558594-87.855469h71.929687c-.902343 26.117188-6.398437 51.871094-16.234375 76.078125zm-431.367187-76.078125h71.929687c.527344 29.691406 4.746094 59.203125 12.558594 87.855469l-68.253906-11.777344c-9.835938-24.207031-15.332032-49.960937-16.234375-76.078125zm16.234375-92.078125 68.253906-11.777344c-7.8125 28.652344-12.03125 58.164063-12.558594 87.855469h-71.929687c.902343-26.117188 6.398437-51.871094 16.234375-76.078125zm215.566406-27.472656c28.746094.367187 57.421875 2.984375 85.761719 7.832031l28.238281 4.871094c8.675781 29.523437 13.34375 60.078125 13.878906 90.847656h-127.878906zm88.488281-7.9375c-29.238281-4.996094-58.828125-7.695313-88.488281-8.0625v-96c45.863281 4.40625 85.703125 46.398437 108.28125 107.511719zm-104.488281-8.0625c-29.660156.367187-59.242188 3.066406-88.480469 8.0625l-19.800781 3.425781c22.578125-61.128906 62.417969-103.136719 108.28125-107.523438zm-85.753906 23.832031c28.335937-4.847656 57.007812-7.464844 85.753906-7.832031v103.550781h-127.878906c.535156-30.769531 5.203125-61.324219 13.878906-90.847656zm-42.125 111.71875h127.878906v103.550781c-28.746094-.367187-57.421875-2.984375-85.761719-7.832031l-28.238281-4.871094c-8.675781-29.523437-13.34375-60.078125-13.878906-90.847656zm39.390625 111.488281c29.238281 5.003907 58.824219 7.714844 88.488281 8.105469v96c-45.863281-4.410156-85.703125-46.402344-108.28125-107.515625zm104.488281 8.105469c29.660156-.390625 59.242188-3.101562 88.480469-8.105469l19.800781-3.425781c-22.578125 61.128906-62.417969 103.136719-108.28125 107.523438zm85.753906-23.875c-28.335937 4.847656-57.007812 7.464844-85.753906 7.832031v-103.550781h127.878906c-.535156 30.769531-5.203125 61.324219-13.878906 90.847656zm58.117188-111.71875c-.527344-29.691406-4.746094-59.203125-12.558594-87.855469l68.253906 11.777344c9.835938 24.207031 15.332032 49.960937 16.234375 76.078125zm47.601562-93.710938-65.425781-11.289062c-11.761719-38.371094-33.765625-72.808594-63.648437-99.601562 55.878906 18.648437 102.21875 58.457031 129.074218 110.890624zm-269.871094-110.890624c-29.882812 26.792968-51.886718 61.230468-63.648437 99.601562l-65.425781 11.289062c26.855468-52.433593 73.195312-92.242187 129.074218-110.890624zm-129.074218 314.3125 65.425781 11.289062c11.761719 38.371094 33.765625 72.808594 63.648437 99.601562-55.878906-18.648437-102.21875-58.457031-129.074218-110.890624zm269.871094 110.890624c29.882812-26.792968 51.886718-61.230468 63.648437-99.601562l65.425781-11.289062c-26.855468 52.433593-73.195312 92.242187-129.074218 110.890624zm0 0" /></svg>
        </a>
        <span>></span>
        <a asp-action="Index" class="wayNow">E-Posta Kayıtları</a>
    </div>

    @if (ViewBag.EmailRegDeleteSuccess != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            @ViewBag.EmailRegDeleteSuccess
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    }

    @if (ViewBag.EmailRegDeleteError != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            @ViewBag.EmailRegDeleteError
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    }

    <div class="container-fluid">
        <div class="row mt-4">
            <div class="col">
                <div class="table-responsive">
                    <table id="EmailRegistrationTable" class="display cell-border compact">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Oluşturulma Tarihi</th>
                                <th scope="col">E-Posta Adresi</th>
                                <th scope="col">Kontrol Kodu</th>
                                <th scope="col">Sil</th>
                            </tr>
                        </thead>
                        <tbody>
                            @{ var count = 0;
                                foreach (var item in Model)
                                {
                                    count += 1;
                                    <tr>
                                        <th scope="row">@count</th>
                                        <td>@item.CreateTime</td>
                                        <td>@item.EmailAddress</td>
                                        <td>@item.ControlCode</td>
                                        <td>
                                            <a id="btnDelete@(count)" title="Sil" onclick="deleteConfirmation(this.id, @(count))" style="cursor:pointer;text-decoration:none;">
                                                <svg height="24" width="24" viewBox="-64 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m256 80h-32v-48h-64v48h-32v-80h128zm0 0" fill="#62808c" /><path d="m304 512h-224c-26.507812 0-48-21.492188-48-48v-336h320v336c0 26.507812-21.492188 48-48 48zm0 0" fill="#e76e54" /><path d="m384 160h-384v-64c0-17.671875 14.328125-32 32-32h320c17.671875 0 32 14.328125 32 32zm0 0" fill="#77959e" /><path d="m260 260c-6.246094-6.246094-16.375-6.246094-22.625 0l-41.375 41.375-41.375-41.375c-6.25-6.246094-16.378906-6.246094-22.625 0s-6.246094 16.375 0 22.625l41.375 41.375-41.375 41.375c-6.246094 6.25-6.246094 16.378906 0 22.625s16.375 6.246094 22.625 0l41.375-41.375 41.375 41.375c6.25 6.246094 16.378906 6.246094 22.625 0s6.246094-16.375 0-22.625l-41.375-41.375 41.375-41.375c6.246094-6.25 6.246094-16.378906 0-22.625zm0 0" fill="#fff" /></svg>
                                            </a>
                                            <div id="deteleConfirmation@(count)" style="display:none">
                                                <a asp-controller="EmailRegistration" asp-action="Delete" asp-route-id="@item.EmailRegistrationId" style="cursor:pointer;text-decoration:none;">
                                                    <svg height="24" width="24" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                                         viewBox="0 0 367.805 367.805" xml:space="preserve">
                                                    <g>
                                                    <path style="fill:#3BB54A;" d="M183.903,0.001c101.566,0,183.902,82.336,183.902,183.902s-82.336,183.902-183.902,183.902
		                                                                    S0.001,285.469,0.001,183.903l0,0C-0.288,82.625,81.579,0.29,182.856,0.001C183.205,0,183.554,0,183.903,0.001z" />































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































                                                    <polygon style="fill:#D4E1F4;" points="285.78,133.225 155.168,263.837 82.025,191.217 111.805,161.96 155.168,204.801
		                                                                    256.001,103.968 	" />































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































                                                                    </g>

                                                                    </svg>
                                                </a>
                                                <a id="deleteClose@(count)" onclick="deleteClose(@(count))" style="cursor:pointer;text-decoration:none;">
                                                    <svg height="24" width="24" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                                         viewBox="0 0 455.111 455.111" xml:space="preserve">
                                                    <circle style="fill:#E24C4B;" cx="227.556" cy="227.556" r="227.556" />































































































































































































































































































































































































































































































































                                                    <path style="fill:#D1403F;" d="M455.111,227.556c0,125.156-102.4,227.556-227.556,227.556c-72.533,0-136.533-32.711-177.778-85.333
	                                                    c38.4,31.289,88.178,49.778,142.222,49.778c125.156,0,227.556-102.4,227.556-227.556c0-54.044-18.489-103.822-49.778-142.222
	                                                    C422.4,91.022,455.111,155.022,455.111,227.556z" />































































































































































































































































































































































































































































































































                                                    <path style="fill:#FFFFFF;" d="M331.378,331.378c-8.533,8.533-22.756,8.533-31.289,0l-72.533-72.533l-72.533,72.533
	                                                    c-8.533,8.533-22.756,8.533-31.289,0c-8.533-8.533-8.533-22.756,0-31.289l72.533-72.533l-72.533-72.533
	                                                    c-8.533-8.533-8.533-22.756,0-31.289c8.533-8.533,22.756-8.533,31.289,0l72.533,72.533l72.533-72.533
	                                                    c8.533-8.533,22.756-8.533,31.289,0c8.533,8.533,8.533,22.756,0,31.289l-72.533,72.533l72.533,72.533
	                                                    C339.911,308.622,339.911,322.844,331.378,331.378z" />































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































                                                    </svg>
                                                </a>
                                            </div>
                                        </td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            $('#EmailRegistrationTable').DataTable();
        });

        function deleteConfirmation(btnId, count) {
            var btn = document.getElementById(btnId);
            btn.style.display = "none";
            var deleteConf = "deteleConfirmation" + count;
            document.getElementById(deleteConf).style.display = "block";
        }

        function deleteClose(count) {
            var deleteConf = "deteleConfirmation" + count;
            document.getElementById(deleteConf).style.display = "none";
            var btn = 'btnDelete' + count;
            document.getElementById(btn).style.display = "block";

        }
    </script>
}


